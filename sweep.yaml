# Program to run for the sweep
program: train.py

# Method for the sweep
method: grid

# Metric to optimize
metric:
  goal: maximize
  name: eval_ko_in/final_hard_accuracy

# Parameters to sweep over
parameters:
  # Core training parameters
  # training.meta_batch_size:
  #   values:
  #     - 8
      - 32
      - 64
      - 128
  # training.layer_neighbors:
  #   values:
  #     - true
  #     - false

  # training.damage_emission:
  #   values:
  #     - true
  #     - false

  # # Training mode toggle
  # training.training_mode:
  #   values:
  #     - "growth"
  #     - "repair"

  # # Damage mode toggle
  # pool.damage_mode:
  #   values:
  #     - "shotgun"
  #     - "strip"

  # # Damage probability values
  # pool.damage_prob:
  #   values:
  #     - 10
  #     - 15

  # # Damage and recovery parameters
  # pool.damage_pool_fraction:
  #   values:
  #     - 0.1
  #     - 0.2

  # pool.damage_knockout_diversity:
  #   values:
      # - 10
      # - 32
      # - 512
      # - 128
      # - 256
      # - 32
      # - 256
      # - 512

  # # Evaluation parameters
  # eval.periodic_eval_inner_steps:
  #   values:
  #     - 10
  #     - 20
  #     - 25

  # # Additional strategic parameters that could affect performance
  # training.learning_rate:
  #   values:
  #     - 1e-4
  #     - 5e-4

  # pool.damage_prob:
  #   values:
      # - 1
      # # - 2
      # - 3
      # - 4
      # - 15
      # - 5
      # # - 6
      # - 10

  # pool.damage_mode:
  #   values:
  #     - shotgun
      # - strip
      # - greedy

  # pool.reset_fraction:
  #   values:
  #     - 0.1
  #     - 0.15
  #     - 0.2

  # Self-attention model parameters (state size scaling)
  # model.attention_dim:
  #   values:
  #     - 64
      - 128
      - 256
  #     # - 512

  # model.num_layers:
  #   values:
  #     # - 1
      - 2
      - 4

  # model.num_heads:
  #   values:
  #     # - 4
      - 8
      - 16

  # Circuit hidden dimension (affects circuit representation size)
  # circuit.circuit_hidden_dim:
  #   values:
  #     - 16
      - 32
      - 64



# Add this command block to format arguments correctly for Hydra
command:
  - ${env}
  - ${interpreter}
  - ${program}
  - ${args_no_hyphens}